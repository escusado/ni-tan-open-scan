<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Scanner</title>
    <!--include tailwind-->
    <link
      href="https://unpkg.com/tailwindcss/dist/tailwind.min.css"
      rel="stylesheet"
    />
  </head>

  <body>
    <div class="bg-red-200">👁️ Sup this is the scanner yo!</div>
    <div>
      <img class="preview" />
    </div>
    <div
      class="capture"
      style="
        width: 80%;
        height: 500px;
        background-repeat: no-repeat;
        background-size: cover;
        background-image: url(capture.jpg);
      "
    ></div>

    <div>
      <pre class="data-container">
            fetchin...
        </pre
      >
    </div>
  </body>

  <script>
    const cameraPreviewEl = document.querySelector(".preview");
    const cameraCaptureEl = document.querySelector(".capture");
    //refresh every second
    setInterval(function () {
      cameraPreviewEl.src = "preview.jpg?time=" + new Date().getTime();
    }, 100);

    setInterval(function () {
      cameraCaptureEl.style = `width:80%; height: 500px; background-repeat: no-repeat; background-size: cover; background-image: url(capture.jpg?time=${new Date().getTime()})`;
    }, 5000);

    //fetch data.json an display it
    // fetch("data.json")
    //   .then((response) => response.json())
    //   .then((data) => {
    //     console.log(data);
    //     document.querySelector(".data-container").innerHTML = JSON.stringify(
    //       data,
    //       null,
    //       2
    //     );
    //   });
  </script>
</html>
